<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Enhanced Social Post - theaipoint</title>
    <style>
      :root {
        --w: 1080px;
        --h: 1350px;
        --pad: 48px;

        /* Dynamic theme colors - these would be set by your Python script */
        --brand: #00d4ff;
        --accent: #22c1c3;
        --brandDark: #0066cc;
        --accentDark: #1a9a9e;

        /* Semantic colors */
        --fg: #ffffff;
        --fgMuted: #d1d5db;
        --fgSecondary: #9ca3af;
        --bgOverlay: rgba(0, 0, 0, 0.75);
        --bgOverlayLight: rgba(0, 0, 0, 0.45);
        --bgCard: rgba(255, 255, 255, 0.1);
        --bgCardBorder: rgba(255, 255, 255, 0.2);

        /* Shadows and effects */
        --shadowStrong: 0 8px 32px rgba(0, 0, 0, 0.6),
          0 2px 8px rgba(0, 0, 0, 0.3);
        --shadowMedium: 0 4px 16px rgba(0, 0, 0, 0.4),
          0 1px 4px rgba(0, 0, 0, 0.2);
        --shadowText: 0 2px 8px rgba(0, 0, 0, 0.8), 0 1px 2px rgba(0, 0, 0, 0.5);
        --glassBg: rgba(255, 255, 255, 0.08);
        --glassBorder: rgba(255, 255, 255, 0.15);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      html,
      body {
        width: var(--w);
        height: var(--h);
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          system-ui, sans-serif;
        color: var(--fg);
        background: #000;
        overflow: hidden;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
      }

      /* Background System */
      .bg-container {
        position: absolute;
        inset: 0;
        overflow: hidden;
      }

      .bg-image {
        position: absolute;
        inset: 0;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        transition: opacity 0.3s ease;
        filter: brightness(0.8) contrast(1.1);
      }

      .bg-fallback {
        position: absolute;
        inset: 0;
        background: linear-gradient(
          135deg,
          var(--brand) 0%,
          var(--accent) 100%
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .bg-fallback.active {
        opacity: 1;
      }

      .bg-pattern {
        position: absolute;
        inset: 0;
        background-image: radial-gradient(
            circle at 20% 20%,
            rgba(255, 255, 255, 0.05) 1px,
            transparent 1px
          ),
          radial-gradient(
            circle at 80% 80%,
            rgba(255, 255, 255, 0.05) 1px,
            transparent 1px
          );
        background-size: 60px 60px, 80px 80px;
        opacity: 0.3;
      }

      .overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(
          180deg,
          rgba(0, 0, 0, 0.4) 0%,
          rgba(0, 0, 0, 0.2) 20%,
          rgba(0, 0, 0, 0.3) 60%,
          rgba(0, 0, 0, 0.8) 100%
        );
      }

      /* Layout */
      .container {
        position: relative;
        width: 100%;
        height: 100%;
        padding: var(--pad);
        display: flex;
        flex-direction: column;
        z-index: 10;
      }

      /* Header */
      .header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 32px;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .brand-dot {
        width: 16px;
        height: 16px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--brand), var(--accent));
        box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1),
          0 4px 12px rgba(0, 212, 255, 0.3);
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1),
            0 4px 12px rgba(0, 212, 255, 0.3);
        }
        50% {
          box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2),
            0 4px 16px rgba(0, 212, 255, 0.5);
        }
      }

      .brand-text {
        font-weight: 900;
        font-size: 24px;
        letter-spacing: -0.5px;
        text-shadow: var(--shadowText);
        background: linear-gradient(135deg, #fff, var(--fgMuted));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .tagline {
        font-size: 16px;
        color: var(--fgMuted);
        font-weight: 500;
        margin-top: 2px;
        text-shadow: var(--shadowText);
      }

      .badge {
        background: linear-gradient(135deg, var(--brand), var(--accent));
        color: #fff;
        padding: 10px 16px;
        border-radius: 12px;
        font-weight: 800;
        font-size: 14px;
        letter-spacing: 0.5px;
        text-transform: uppercase;
        box-shadow: var(--shadowMedium);
        position: relative;
        overflow: hidden;
      }

      .badge::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        animation: shimmer 3s infinite;
      }

      @keyframes shimmer {
        0% {
          left: -100%;
        }
        100% {
          left: 100%;
        }
      }

      /* Main Content */
      .main {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 24px;
        margin: 32px 0;
      }

      .headline {
        font-weight: 900;
        line-height: 1.1;
        text-shadow: var(--shadowText);
        margin-bottom: 8px;
        background: linear-gradient(135deg, #fff 0%, var(--fgMuted) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .headline-xl {
        font-size: 72px;
        letter-spacing: -1px;
      }
      .headline-lg {
        font-size: 64px;
        letter-spacing: -0.5px;
      }
      .headline-md {
        font-size: 56px;
        letter-spacing: -0.3px;
      }
      .headline-sm {
        font-size: 48px;
        letter-spacing: -0.2px;
      }

      /* AI Point Card - This is the star feature */
      .ai-point {
        background: var(--glassBg);
        backdrop-filter: blur(20px);
        border: 1px solid var(--glassBorder);
        border-radius: 20px;
        padding: 24px;
        margin: 16px 0;
        position: relative;
        box-shadow: var(--shadowStrong);
        border-left: 6px solid var(--brand);
      }

      .ai-point::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.3),
          transparent
        );
      }

      .ai-label {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 12px;
      }

      .ai-icon {
        font-size: 20px;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
      }

      .ai-label-text {
        font-weight: 800;
        font-size: 18px;
        color: var(--brand);
        text-transform: uppercase;
        letter-spacing: 1px;
        text-shadow: var(--shadowText);
      }

      .ai-content {
        font-size: 28px;
        font-weight: 600;
        line-height: 1.3;
        color: var(--fg);
        text-shadow: var(--shadowText);
      }

      /* Metadata */
      .metadata {
        display: flex;
        align-items: center;
        gap: 16px;
        color: var(--fgSecondary);
        font-size: 18px;
        font-weight: 500;
        text-shadow: var(--shadowText);
      }

      .metadata-item {
        display: flex;
        align-items: center;
        gap: 6px;
      }

      /* Footer */
      .footer {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        margin-top: 32px;
      }

      .signature {
        font-size: 16px;
        color: var(--fgSecondary);
        text-shadow: var(--shadowText);
      }

      .signature strong {
        color: var(--fg);
        font-weight: 800;
      }

      .source {
        font-size: 14px;
        color: var(--fgSecondary);
        text-align: right;
        text-shadow: var(--shadowText);
      }

      /* CTA Section */
      .cta {
        position: absolute;
        bottom: var(--pad);
        left: var(--pad);
        right: var(--pad);
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 16px;
      }

      .cta-button {
        background: var(--glassBg);
        backdrop-filter: blur(20px);
        border: 1px solid var(--glassBorder);
        border-radius: 16px;
        padding: 16px 20px;
        color: var(--fg);
        font-weight: 800;
        font-size: 20px;
        text-shadow: var(--shadowText);
        box-shadow: var(--shadowMedium);
        flex: 1;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .cta-button::before {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg, var(--brand), var(--accent));
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .cta-button:hover::before {
        opacity: 0.1;
      }

      .cta-brand {
        color: var(--fgMuted);
        font-weight: 700;
        font-size: 16px;
        text-shadow: var(--shadowText);
      }

      /* Category-specific styling */
      .category-breaking {
        --brand: #ff3b30;
        --accent: #ff8a80;
        --brandDark: #d32f2f;
        --accentDark: #ff5722;
      }

      .category-tech {
        --brand: #a855f7;
        --accent: #7e22ce;
        --brandDark: #7c3aed;
        --accentDark: #6b21a8;
      }

      .category-politics {
        --brand: #f59e0b;
        --accent: #d97706;
        --brandDark: #f97316;
        --accentDark: #ea580c;
      }

      .category-economy {
        --brand: #22c55e;
        --accent: #16a34a;
        --brandDark: #059669;
        --accentDark: #047857;
      }

      .category-cricket {
        --brand: #2563eb;
        --accent: #1d4ed8;
        --brandDark: #1e40af;
        --accentDark: #1e3a8a;
      }

      /* Responsive adjustments */
      @media (max-width: 1080px) {
        .headline-xl {
          font-size: 64px;
        }
        .headline-lg {
          font-size: 56px;
        }
        .headline-md {
          font-size: 48px;
        }
        .headline-sm {
          font-size: 40px;
        }

        .ai-content {
          font-size: 24px;
        }
        .cta-button {
          font-size: 18px;
        }
      }
    </style>
  </head>
  <body class="category-default">
    <div class="bg-container">
      <!-- Background image will be set via JavaScript -->
      <div class="bg-image" id="bgImage"></div>
      <div class="bg-fallback" id="bgFallback">
        <div class="bg-pattern"></div>
      </div>
      <div class="overlay"></div>
    </div>

    <div class="container">
      <!-- Header -->
      <header class="header">
        <div class="brand">
          <div class="brand-dot"></div>
          <div>
            <div class="brand-text">theaipoint</div>
            <div class="tagline">news + ai perspective</div>
          </div>
        </div>
        <div class="badge">AI RECAP</div>
      </header>

      <!-- Main Content -->
      <main class="main">
        <h1 class="headline headline-lg" id="headline">
          American Woman's Emotional Farewell to India Touches Millions on
          Instagram 🇮🇳✨
        </h1>

        <div class="ai-point">
          <div class="ai-label">
            <span class="ai-icon">🤖</span>
            <span class="ai-label-text">AI Point</span>
          </div>
          <div class="ai-content" id="aiContent">
            Reflecting the deep connections fostered by travel, this viral post
            highlights India's global emotional impact and cultural magnetism in
            our interconnected world.
          </div>
        </div>

        <div class="metadata">
          <div class="metadata-item">
            <span>⏱️</span>
            <span id="timestamp">28 Aug 2025, 11:22 PM IST</span>
          </div>
          <div class="metadata-item">
            <span>📊</span>
            <span>Trending</span>
          </div>
        </div>
      </main>

      <!-- Footer -->
      <footer class="footer">
        <div class="signature">
          <strong>@theaipoint</strong> — AI news in 30 sec
        </div>
        <div class="source">Source: AI (<span id="modelName">sonar</span>)</div>
      </footer>

      <!-- CTA -->
      <div class="cta">
        <div class="cta-button" id="ctaButton">👇 What's your POV?</div>
        <div class="cta-brand">@theaipoint</div>
      </div>
    </div>

    <script>
      // Enhanced image loading with fallback
      function loadBackgroundImage(imageUrl) {
        if (!imageUrl) {
          showFallback();
          return;
        }

        const img = new Image();
        const bgImage = document.getElementById("bgImage");
        const bgFallback = document.getElementById("bgFallback");

        img.onload = function () {
          bgImage.style.backgroundImage = `url(${imageUrl})`;
          bgImage.style.opacity = "1";
          bgFallback.classList.remove("active");
        };

        img.onerror = function () {
          console.warn("Failed to load background image, using fallback");
          showFallback();
        };

        // Set a timeout for slow loading images
        setTimeout(() => {
          if (!img.complete) {
            console.warn("Image loading timeout, using fallback");
            showFallback();
          }
        }, 5000);

        img.src = imageUrl;
      }

      function showFallback() {
        const bgImage = document.getElementById("bgImage");
        const bgFallback = document.getElementById("bgFallback");

        bgImage.style.opacity = "0";
        bgFallback.classList.add("active");
      }

      // Dynamic content updates (would be called by your Python script)
      function updateContent(data) {
        if (data.title) {
          document.getElementById("headline").textContent = data.title;
        }

        if (data.aiPoint) {
          document.getElementById("aiContent").textContent = data.aiPoint;
        }

        if (data.timestamp) {
          document.getElementById("timestamp").textContent = data.timestamp;
        }

        if (data.modelName) {
          document.getElementById("modelName").textContent = data.modelName;
        }

        if (data.ctaText) {
          document.getElementById("ctaButton").textContent = data.ctaText;
        }

        if (data.category) {
          document.body.className = `category-${data.category}`;
        }

        if (data.backgroundImage) {
          loadBackgroundImage(data.backgroundImage);
        } else {
          showFallback();
        }
      }

      // Auto-adjust headline size based on length
      function adjustHeadlineSize() {
        const headline = document.getElementById("headline");
        const text = headline.textContent;
        const length = text.length;

        headline.className = "headline ";
        if (length < 60) {
          headline.className += "headline-xl";
        } else if (length < 80) {
          headline.className += "headline-lg";
        } else if (length < 100) {
          headline.className += "headline-md";
        } else {
          headline.className += "headline-sm";
        }
      }

      // Initialize
      document.addEventListener("DOMContentLoaded", function () {
        adjustHeadlineSize();

        // Example: Load with fallback if no image provided
        // updateContent({
        //   title: "Your Dynamic Title Here",
        //   aiPoint: "Your AI perspective here",
        //   category: "tech", // breaking, tech, politics, economy, cricket, default
        //   backgroundImage: "https://example.com/image.jpg" // or null for fallback
        // });
      });

      // Expose functions globally for Python integration
      window.theAIPoint = {
        updateContent,
        loadBackgroundImage,
        showFallback,
        adjustHeadlineSize,
      };
    </script>
  </body>
</html>
